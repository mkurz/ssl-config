# Copyright (C) 2015 - 2025 Lightbend Inc. <https://www.lightbend.com>

# ssl configuration
ssl-config {

  # Whether we should use the default JVM SSL configuration or not
  # When false additional configuration will be applied on the context (as configured in ssl-config).
  default = false

  # The ssl protocol to use
  protocol = "TLSv1.3"

  # Whether revocation lists should be checked, if null, defaults to platform default setting.
  checkRevocation = null

  # A sequence of URLs for obtaining revocation lists
  revocationLists = []

  # The enabled cipher suites. If empty, uses the platform default.
  enabledCipherSuites = []

  # The enabled protocols. If empty, uses the platform default.
  enabledProtocols = ["TLSv1.3", "TLSv1.2"]

  # The hostname verifier class.
  # If non null, should be the fully qualify classname of a class that implements HostnameVerifier,
  # otherwise the default will be used.
  #
  # BE AWARE:
  # This config is kept for compatibilby only and is NOT used by:
  #  - SSL Config itself
  #  - Play WS
  # This config is used by the following 3rd party libraries and their versions:
  #  - Pekko < v2, Pekko HTTP < v2
  #  - Akka <= v2.8, Akka HTTP <= v10.5
  #hostnameVerifierClass = null

  #sslParameters {
  #
  # BE AWARE:
  # These configs are kept for compatibilby only and are NOT used by:
  #  - SSL Config itself
  #  - Play WS
  # These config are used by the following 3rd party libraries and their versions:
  #  - Pekko HTTP < v2
  #  - Akka HTTP <= v10.5
  #
  #  # translates to a setNeedClientAuth / setWantClientAuth calls
  #  # "default" – leaves the (which for JDK8 means wantClientAuth and needClientAuth are set to false.)
  #  # "none"    – `setNeedClientAuth(false)`
  #  # "want"    – `setWantClientAuth(true)`
  #  # "need"    – `setNeedClientAuth(true)`
  #  clientAuth = "default"
  #
  #  # protocols (names)
  #  protocols = []
  #}

  # Configuration for the key manager
  keyManager {
    # The key manager algorithm. If empty, uses the platform default.
    algorithm = null

    # The key stores
    stores = [
    ]
    # The key stores should look like this
    prototype.stores {
      # The store type. If null, defaults to the platform default store type, ie JKS.
      type = null

      # The path to the keystore file. Either this must be non null, or data must be non null.
      path = null

      # The data for the keystore. Either this must be non null, or path must be non null.
      data = null

      # The password for loading the keystore. If null, uses no password.
      # It's recommended to load password using environment variable
      password = null
    }
  }

  trustManager {
    # The trust manager algorithm. If empty, uses the platform default.
    algorithm = null

    # The trust stores
    stores = [
    ]
    # The key stores should look like this
    prototype.stores {
      # The store type. If null, defaults to the platform default store type, ie JKS.
      type = null

      # The path to the keystore file. Either this must be non null, or data must be non null.
      path = null

      # The data for the keystore. Either this must be non null, or path must be non null.
      data = null

      # The password for loading the truststore. If null, uses no password.
      # It's recommended to load password using environment variable
      password = null
    }

  }

  # The loose ssl options.  These allow configuring ssl to be more loose about what it accepts,
  # at the cost of introducing potential security issues.
  loose {

    # If non null, overrides the platform default for whether legacy hello messages should be allowed.
    allowLegacyHelloMessages = null

    # If non null, overrides the platform default for whether unsafe renegotiation should be allowed.
    allowUnsafeRenegotiation = null

    # Whether hostname verification should be disabled
    #
    # BE AWARE:
    # This config is kept for compatibilby only and is NOT used by:
    #  - SSL Config itself
    #  - Play WS
    # This config is used by the following 3rd party libraries and their versions:
    #  - Pekko < v2, Pekko HTTP < v2
    #  - Akka <= v2.8, Akka HTTP <= v10.5
    #  - Gigahorse (https://github.com/eed3si9n/gigahorse)
    #disableHostnameVerification = false

    # Whether the SNI (Server Name Indication) TLS extension should be disabled
    # This setting MAY be respected by client libraries.
    #
    # https://tools.ietf.org/html/rfc3546#sectiom-3.1
    #
    # BE AWARE:
    # This config is kept for compatibilby only and is NOT used by:
    #  - SSL Config itself
    #  - Play WS
    # This config is used by the following 3rd party libraries and their versions:
    #  - Pekko < v2, Pekko HTTP < v2
    #  - Akka <= v2.8, Akka HTTP <= v10.5
    #disableSNI = false

    # Whether any certificate should be accepted or not
    acceptAnyCertificate = false
  }

  # Debug configuration
  debug {
    # Enable all debugging
    all = false

    # Enable sslengine / socket tracing
    ssl = false

    # Enable SSLContext tracing
    sslctx = false

    # Enable key manager tracing
    keymanager = false

    # Enable trust manager tracing
    trustmanager = false
  }
}
